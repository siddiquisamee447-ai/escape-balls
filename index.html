<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="google-site-verification" content="5Z61h5XIdAxuXnCJ7aZi1HMYq6_FTUoHcboNMYDMb4M" />
<title>Escape Survival Balls â€“ Fast Arcade Survival Game</title>
<meta name="description" content="Escape Balls is a fast-paced arcade game where one ball escapes from chasing balls. Play online for free. Hard, fun, and addictive.">
<meta name="keywords" content="escape balls, ball escape game, arcade ball game, survival ball game, free online game">
<meta name="author" content="Samee Siddiqui">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{margin:0;padding:0;overflow:hidden;background:#000;font-family:Arial}
canvas{display:block}
#ui{position:absolute;top:10px;left:10px;color:#fff;font-size:18px}
#hint{position:absolute;bottom:80px;left:50%;transform:translateX(-50%);color:#fff;font-weight:bold}
#restartBtn{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);
padding:10px 20px;font-size:18px;background:#FF4500;color:#fff;border:none;border-radius:5px;display:none}
</style>
</head>
<body>

<canvas id="game"></canvas>

<div id="ui">
Score: <b id="score">0</b> |
High: <b id="high">0</b> |
Level: <b id="level">1</b>
</div>

<div id="hint">ARROWS = MOVE | SPACE = SHOOT | R = RESTART</div>
<button id="restartBtn">Restart</button>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
const restartBtn=document.getElementById("restartBtn");

function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
addEventListener("resize",resize);resize();

let highScore=localStorage.getItem("escapeHigh")||0;
document.getElementById("high").innerText=highScore;

let player,enemies,bullets,stars,blueBalls;
let score=0,gameOver=false,shield=false;
let left=false,right=false,up=false,down=false,shoot=false;
let touchX=null,touchY=null;
let countdown=3;
let countdownActive=false;

/* LEVEL */
let level=1;
let spawnGap=60;
let glowTime=0; // for shield glow pulse

/* INIT GAME */
function initGame(){
player={x:canvas.width/2,y:canvas.height/2,radius:25,speed:8,color:"#FF4500",shield:false};
enemies=[]; bullets=[]; blueBalls=[]; stars=[];
score=0; level=1; spawnGap=60; gameOver=false; shield=false;
restartBtn.style.display="none";
document.getElementById("level").innerText=level;

for(let i=0;i<120;i++)
stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,size:Math.random()*2+1,speed:Math.random()+0.5});

countdown=3;
countdownActive=true;
countdownLoop();
}

/* COUNTDOWN */
function countdownLoop(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
ctx.font="80px Arial";
ctx.textAlign="center";
ctx.fillText(countdown>0 ? countdown : "GO!", canvas.width/2, canvas.height/2);
if(countdown>0){ countdown--; setTimeout(countdownLoop,1000);}
else{countdownActive=false; loop();}
}

/* INPUT */
addEventListener("keydown",e=>{
if(e.key==="ArrowLeft")left=true;
if(e.key==="ArrowRight")right=true;
if(e.key==="ArrowUp")up=true;
if(e.key==="ArrowDown")down=true;
if(e.key===" "||e.key==="Spacebar")shoot=true;
if(e.key==="r"||e.key==="R")initGame();
});
addEventListener("keyup",e=>{
if(e.key==="ArrowLeft")left=false;
if(e.key==="ArrowRight")right=false;
if(e.key==="ArrowUp")up=false;
if(e.key==="ArrowDown")down=false;
if(e.key===" "||e.key==="Spacebar")shoot=false;
});

/* TOUCH */
addEventListener("touchstart",e=>{ touchX=e.touches[0].clientX; touchY=e.touches[0].clientY; });
addEventListener("touchmove",e=>{ touchX=e.touches[0].clientX; touchY=e.touches[0].clientY; });
addEventListener("touchend",()=>{ touchX=null; touchY=null; });

/* ENEMY */
function spawnEnemy(){
let edge=Math.floor(Math.random()*4),x,y;
if(edge===0){x=0;y=Math.random()*canvas.height}
if(edge===1){x=canvas.width;y=Math.random()*canvas.height}
if(edge===2){x=Math.random()*canvas.width;y=0}
if(edge===3){x=Math.random()*canvas.width;y=canvas.height}

enemies.push({x,y,radius:18,speed:2+level*0.3,color:"#FF0000"});
}

/* SKY-BLUE BALLS (protective) */
function spawnBlueBall(){
let x=Math.random()*canvas.width;
let y=Math.random()*canvas.height;
blueBalls.push({x,y,radius:18});
}

/* BULLET */
function fireBullet(){ bullets.push({x:player.x,y:player.y-player.radius,radius:5,speed:14,color:"#FFFF00"}); }

/* HIT */
function hit(a,b){return Math.hypot(a.x-b.x,a.y-b.y)<a.radius+b.radius;}

/* MAIN LOOP */
function loop(){
if(gameOver||countdownActive)return;
ctx.clearRect(0,0,canvas.width,canvas.height);

/* STARS */
ctx.fillStyle="#fff";
stars.forEach(s=>{ctx.beginPath();ctx.arc(s.x,s.y,s.size,0,Math.PI*2);ctx.fill();s.y+=s.speed;if(s.y>canvas.height)s.y=0;});

/* MOVE PLAYER */
if(left)player.x-=player.speed;
if(right)player.x+=player.speed;
if(up)player.y-=player.speed;
if(down)player.y+=player.speed;
if(touchX){player.x+=(touchX-player.x)/10;player.y+=(touchY-player.y)/10;}

/* DRAW PLAYER */
if(shield){
  glowTime+=0.1;
  let glowRadius = player.radius + 10 + Math.sin(glowTime)*5;
  ctx.shadowBlur = 20;
  ctx.shadowColor = "#00FFFF";
  ctx.fillStyle="#00FFFF";
  ctx.beginPath();
  ctx.arc(player.x,player.y,glowRadius,0,Math.PI*2);
  ctx.fill();
  ctx.shadowBlur = 0;
}else{
  ctx.fillStyle=player.color;
  ctx.beginPath();
  ctx.arc(player.x,player.y,player.radius,0,Math.PI*2);
  ctx.fill();
}

/* SPAWN ENEMIES */
if(score%spawnGap===0)spawnEnemy();
if(score%500===0)spawnBlueBall(); // sky-blue protective balls

/* ENEMIES */
enemies.forEach((e,ei)=>{
let dx=player.x-e.x,dy=player.y-e.y,d=Math.hypot(dx,dy);
e.x+=(dx/d)*e.speed; e.y+=(dy/d)*e.speed;

ctx.fillStyle=e.color;
ctx.beginPath();ctx.arc(e.x,e.y,e.radius,0,Math.PI*2);ctx.fill();

if(hit(player,e)&&!shield)endGame();

bullets.forEach((b,bi)=>{if(hit(b,e)){enemies.splice(ei,1);bullets.splice(bi,1);}});
});

/* SKY-BLUE BALLS */
blueBalls.forEach((bbi,i)=>{
ctx.fillStyle="#1E90FF";
ctx.beginPath();ctx.arc(bbi.x,bbi.y,bbi.radius,0,Math.PI*2);ctx.fill();
if(hit(player,bbi)){shield=true; blueBalls.splice(i,1); setTimeout(()=>shield=false,5000);}
});

/* BULLETS */
bullets.forEach((b,i)=>{b.y-=b.speed;ctx.fillStyle=b.color;ctx.beginPath();ctx.arc(b.x,b.y,b.radius,0,Math.PI*2);ctx.fill();if(b.y<0)bullets.splice(i,1);});
if(shoot && score%8===0)fireBullet();

/* SCORE & LEVEL */
score++; document.getElementById("score").innerText=score;
if(score%1000===0){level++; spawnGap=Math.max(20,spawnGap-5); document.getElementById("level").innerText=level;}

requestAnimationFrame(loop);
}

/* GAME OVER */
function endGame(){gameOver=true; restartBtn.style.display="block"; if(score>highScore){localStorage.setItem("escapeHigh",score);document.getElementById("high").innerText=score;}}

/* RESTART */
restartBtn.onclick=initGame;

initGame();
</script>
</body>
</html>
